(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{25:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"fetchRepos",(function(){return R})),a.d(r,"setCurrentPage",(function(){return g})),a.d(r,"setSortParam",(function(){return v})),a.d(r,"setSearchQuery",(function(){return T})),a.d(r,"addToFavorites",(function(){return N})),a.d(r,"removeFromFavorites",(function(){return y})),a.d(r,"setPagesPerPage",(function(){return P}));var c,n=a(0),s=a(11),o=a.n(s),i=(a(25),a(8)),u=a(9),l=a(4),j=a(2),b=i.c,d=(a(32),a(1)),p=function(){return Object(d.jsx)("div",{className:"Loader",children:Object(d.jsx)("div",{className:"Loader__content"})})},O=(a(34),function(){var e=b((function(e){return e.repos})).repos,t=Object(n.useState)(),a=Object(l.a)(t,2),r=a[0],c=a[1],s=Object(j.h)().repoId;if(Object(n.useEffect)((function(){var t=e.find((function(e){return e.id===Number(s)}));c(t)}),[s]),void 0===r)return Object(d.jsx)(p,{});var o=r.name,i=r.owner,u=r.html_url,O=r.description,_=r.stargazers_count,m=r.language,h=i.avatar_url,E=i.login;return Object(d.jsxs)("div",{className:"card card-repo",children:[Object(d.jsx)("p",{className:"card__name",children:o}),Object(d.jsx)("div",{className:"card__image-box",children:Object(d.jsx)("img",{className:"card__picture",src:h,alt:String(o)})}),Object(d.jsx)("p",{className:"card__login",children:"User: ".concat(E)}),Object(d.jsx)("p",{className:"card__repo-link",children:Object(d.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",children:"Repo Link"})}),Object(d.jsx)("p",{className:"description",children:"Rank"}),Object(d.jsx)("p",{className:"card__rank",children:_}),Object(d.jsx)("p",{className:"description",children:"Language"}),Object(d.jsx)("p",{className:"card__language",children:m}),Object(d.jsx)("p",{className:"description",children:"Description"}),Object(d.jsx)("p",{className:"card__description",children:O})]})}),_=(a(35),a(12)),m=a.n(_),h=a(6),E=a(3),f=a(15),x=a.n(f),S=a(18);!function(e){e.FETCH_REPOS="FETCH_REPOS",e.FETCH_REPOS_SUCCESS="FETCH_REPOS_SUCCESS",e.FETCH_REPOS_ERROR="FETCH_REPOS_ERROR",e.SET_SEARCH_QUERY="SET_SEARCH_QUERY",e.SET_SORTBY="SET_SORTBY",e.ADD_TO_FAVORITES="ADD_TO_FAVORITES",e.REMOVE_FROM_FAVORITES="REMOVE_FROM_FAVORITES",e.SET_CURRENT_PAGE="SET_CURRENT_PAGE",e.SET_PER_PAGE="SET_PER_PAGE",e.SET_PAGES_COUNT="SET_PAGES_COUNT"}(c||(c={}));var R=function(e,t,a,r){return function(){var n=Object(S.a)(x.a.mark((function n(s){var o,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s({type:c.FETCH_REPOS}),n.next=4,fetch("".concat("https://api.github.com/","search/repositories?q=").concat(e,"&sort=").concat(t,"&page=").concat(a,"&per_page=").concat(r));case 4:return o=n.sent,i=o.json(),n.t0=s,n.t1=c.SET_PAGES_COUNT,n.next=10,i;case 10:return n.t2=n.sent,n.t3={type:n.t1,payload:n.t2},(0,n.t0)(n.t3),n.t4=s,n.t5=c.FETCH_REPOS_SUCCESS,n.next=17,i;case 17:n.t6=n.sent,n.t7={type:n.t5,payload:n.t6},(0,n.t4)(n.t7),n.next=25;break;case 22:n.prev=22,n.t8=n.catch(0),s({type:c.FETCH_REPOS_ERROR,payload:"An error occurred while loading repositories. Please try again later or contact us"});case 25:case"end":return n.stop()}}),n,null,[[0,22]])})));return function(e){return n.apply(this,arguments)}}()},g=function(e){return{type:c.SET_CURRENT_PAGE,payload:e}},v=function(e){return{type:c.SET_SORTBY,payload:e}},T=function(e){return{type:c.SET_SEARCH_QUERY,payload:e}},N=function(e){return{type:c.ADD_TO_FAVORITES,payload:e}},y=function(e){return{type:c.REMOVE_FROM_FAVORITES,payload:e}},P=function(e){return{type:c.SET_PER_PAGE,payload:e}},C=Object(E.a)({},r),A=function(){var e=Object(i.b)();return Object(h.bindActionCreators)(C,e)},F=(a(37),function(){var e=A(),t=e.setSearchQuery,a=e.setSortParam,r=e.setCurrentPage,c=e.setPagesPerPage,s=b((function(e){return e.repos})).perPage,o=Object(n.useState)(""),i=Object(l.a)(o,2),u=i[0],j=i[1],p=Object(n.useState)(s),O=Object(l.a)(p,2),_=O[0],m=O[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{className:"search-bar__search-form",onSubmit:function(e){!function(e){e.preventDefault(),r(1),t(u),j("")}(e)},children:[Object(d.jsx)("input",{className:"input",type:"text",placeholder:"Search...",value:u,onChange:function(e){j(e.target.value)},required:!0}),Object(d.jsx)("button",{type:"submit",className:"button is-warning",children:"Search"})]}),Object(d.jsxs)("div",{className:"search-bar__button-container",children:[Object(d.jsx)("button",{type:"button",className:"button search-bar__sort-button",onClick:function(){a("updated")},children:"Sort by Update"}),Object(d.jsx)("button",{type:"button",className:"button search-bar__sort-button",onClick:function(){a("stars")},children:"Sort by Rank"}),Object(d.jsx)("button",{type:"button",className:"button search-bar__sort-button",onClick:function(){a("forks")},children:"Sort by Forks"})]}),Object(d.jsxs)("form",{className:"search-bar__set-pages-form",onSubmit:function(e){!function(e){e.preventDefault(),r(1),c(_),j("")}(e)},children:[Object(d.jsx)("input",{className:"input",type:"text",placeholder:"Items...",value:_,onChange:function(e){m(Number(e.target.value))},required:!0}),Object(d.jsx)("button",{type:"submit",className:"button is-warning",children:"Show repos per page"})]})]})});a(38);var k=function(){var e=b((function(e){return e.repos})),t=e.currentPage,a=e.reposCount,r=e.perPage,c=A().setCurrentPage,n=[];return function(e,t,a){if(t>10)if(a>5)for(var r=a-4;r<=a+5&&(e.push(r),r!==t);r++);else for(var c=1;c<=10&&(e.push(c),c!==t);c++);else for(var n=1;n<=t;n++)e.push(n)}(n,Math.ceil(a/r),t),Object(d.jsx)("nav",{className:"pagination",role:"navigation","aria-label":"pagination",children:Object(d.jsx)("ul",{className:"pagination-list",children:n.map((function(e){return Object(d.jsx)("li",{className:"pagination-list__item",children:Object(d.jsx)("button",{type:"button",className:m()("pagination-link",{"is-current":e===t}),"aria-label":"Page 1","aria-current":"page",onClick:function(){c(e)},children:e})},e)}))})})},I=(a(39),function(){var e=b((function(e){return e.repos})),t=e.repos,a=e.loading,r=e.searchQuery,c=e.sortBy,s=e.currentPage,o=e.perPage,i=e.reposCount,l=e.favoritesIds,j=A(),O=j.fetchRepos,_=j.addToFavorites,h=j.removeFromFavorites;Object(n.useEffect)((function(){O(r,c,s,o)}),[r,c,s,o]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"search-bar repos-list__search-bar",children:Object(d.jsx)(F,{})}),Object(d.jsx)("div",{className:"box repos-list__info-box",children:"".concat(i||"No"," repositories were found")}),a?Object(d.jsx)(p,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"repos-list__list",children:Object(d.jsx)("div",{className:"repos-list__content",children:t.map((function(e){return Object(d.jsx)("div",{className:"box card repos-list__card",children:Object(d.jsxs)("article",{className:"media",children:[Object(d.jsx)("div",{className:"media-left",children:Object(d.jsx)("figure",{className:"image is-128x128 card__image-container",children:Object(d.jsx)("img",{className:"card__image",src:e.owner.avatar_url,alt:e.name})})}),Object(d.jsx)("div",{className:"media-content",children:Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("p",{className:"content-item",children:Object(d.jsx)("strong",{className:"card__title",children:e.name})}),Object(d.jsx)("p",{className:"content-item",children:Object(d.jsx)("small",{children:"rank: ".concat(e.stargazers_count)})})]})}),Object(d.jsx)(u.b,{type:"button",className:"button top-button is-primary is-info",to:"/".concat(e.id),children:"View more"}),Object(d.jsx)("button",{type:"button",className:m()("button bottom-button",{"is-success":!l.includes(e.id)},{"is-danger":l.includes(e.id)}),onClick:function(){var t;t=e.id,l.includes(t)?h(t):_(t)},children:(t=e.id,l.includes(t)?"Remove from favorites":"Add to Favorites")})]})},e.id);var t}))})}),Object(d.jsx)("div",{className:"repos-list__pages",children:Object(d.jsx)(k,{})})]})]})}),U=(a(40),function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1];return setTimeout((function(){r(!0)}),3e3),Object(d.jsx)("div",{className:"App",children:a?Object(d.jsx)("div",{className:"App_content",children:Object(d.jsxs)(j.d,{children:[Object(d.jsx)(j.b,{path:"/",element:Object(d.jsx)(I,{})}),Object(d.jsx)(j.b,{path:"/:repoId",element:Object(d.jsx)(O,{})}),Object(d.jsx)(j.b,{path:"/home",element:Object(d.jsx)(j.a,{to:"/"})}),Object(d.jsx)(j.b,{path:"*",element:Object(d.jsx)(j.a,{to:"/"})})]})}):Object(d.jsx)("div",{className:"App__splashscreen",children:"Andrii Koptiev"})})}),H=a(19),w=a(20),V=a(16),D={repos:[],loading:!1,error:null,searchQuery:"%3E1",sortBy:"stars",favoritesIds:[],currentPage:1,perPage:40,reposCount:0},G=Object(h.combineReducers)({repos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.FETCH_REPOS:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case c.FETCH_REPOS_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{repos:Object(V.a)(t.payload.items),loading:!1});case c.FETCH_REPOS_ERROR:return Object(E.a)(Object(E.a)({},e),{},{error:t.payload,loading:!1});case c.SET_SEARCH_QUERY:return Object(E.a)(Object(E.a)({},e),{},{searchQuery:t.payload});case c.SET_SORTBY:return Object(E.a)(Object(E.a)({},e),{},{sortBy:t.payload});case c.ADD_TO_FAVORITES:return Object(E.a)(Object(E.a)({},e),{},{favoritesIds:[].concat(Object(V.a)(e.favoritesIds),[t.payload])});case c.REMOVE_FROM_FAVORITES:return Object(E.a)(Object(E.a)({},e),{},{favoritesIds:e.favoritesIds.filter((function(e){return e!==t.payload}))});case c.SET_CURRENT_PAGE:return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.payload});case c.SET_PER_PAGE:return Object(E.a)(Object(E.a)({},e),{},{perPage:t.payload});case c.SET_PAGES_COUNT:return Object(E.a)(Object(E.a)({},e),{},{reposCount:t.payload.total_count});default:return e}}}),M=Object(h.createStore)(G,Object(H.composeWithDevTools)(Object(h.applyMiddleware)(w.a))),Q=function(){return Object(d.jsx)(u.a,{children:Object(d.jsx)(i.a,{store:M,children:Object(d.jsx)(U,{})})})};o.a.render(Object(d.jsx)(Q,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.2ae34078.chunk.js.map