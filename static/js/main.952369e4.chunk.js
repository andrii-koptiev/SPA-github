(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{22:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchRepos",(function(){return _})),n.d(a,"setCurrentPage",(function(){return S})),n.d(a,"setSortParam",(function(){return f})),n.d(a,"setSearchQuery",(function(){return R})),n.d(a,"addToFavorites",(function(){return h})),n.d(a,"removeFromFavorites",(function(){return m})),n.d(a,"changeStateRepos",(function(){return T}));var r,c=n(1),s=n(7),o=n.n(s),i=(n(22),n(4)),u=(n(29),n(8)),l=n.n(u),b=i.c,O=n(3),d=n(2),p=n(12),j=n.n(p),E=n(14);!function(e){e.FETCH_REPOS="FETCH_REPOS",e.FETCH_REPOS_SUCCESS="FETCH_REPOS_SUCCESS",e.FETCH_REPOS_ERROR="FETCH_REPOS_ERROR",e.SET_SEARCH_QUERY="SET_SEARCH_QUERY",e.SET_SORTBY="SET_SORTBY",e.ADD_TO_FAVORITES="ADD_TO_FAVORITES",e.REMOVE_FROM_FAVORITES="REMOVE_FROM_FAVORITES",e.SET_CURRENT_PAGE="SET_CURRENT_PAGE",e.SET_PER_PAGE="SET_PER_PAGE",e.SET_PAGES_COUNT="SET_PAGES_COUNT",e.CHANGE_STATE_REPOS="CHANGE_STATE_REPOS"}(r||(r={}));var _=function(e,t,n,a){return function(){var c=Object(E.a)(j.a.mark((function c(s){var o,i;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s({type:r.FETCH_REPOS}),c.next=4,fetch("".concat("https://api.github.com/","search/repositories?q=").concat(e,"&sort=").concat(t,"&page=").concat(n,"&per_page=").concat(a));case 4:return o=c.sent,i=o.json(),c.t0=s,c.t1=r.SET_PAGES_COUNT,c.next=10,i;case 10:return c.t2=c.sent,c.t3={type:c.t1,payload:c.t2},(0,c.t0)(c.t3),c.t4=s,c.t5=r.FETCH_REPOS_SUCCESS,c.next=17,i;case 17:c.t6=c.sent,c.t7={type:c.t5,payload:c.t6},(0,c.t4)(c.t7),c.next=25;break;case 22:c.prev=22,c.t8=c.catch(0),s({type:r.FETCH_REPOS_ERROR,payload:"An error occurred while loading repositories. Please try again later or contact us"});case 25:case"end":return c.stop()}}),c,null,[[0,22]])})));return function(e){return c.apply(this,arguments)}}()},S=function(e){return{type:r.SET_CURRENT_PAGE,payload:e}},f=function(e){return{type:r.SET_SORTBY,payload:e}},R=function(e){return{type:r.SET_SEARCH_QUERY,payload:e}},h=function(e){return{type:r.ADD_TO_FAVORITES,payload:e}},m=function(e){return{type:r.REMOVE_FROM_FAVORITES,payload:e}},T=function(e){return{type:r.CHANGE_STATE_REPOS,payload:e}},v=Object(d.a)({},a),y=function(){var e=Object(i.b)();return Object(O.bindActionCreators)(v,e)};n(31);var x=n(0),C=function(){var e=b((function(e){return e.repos})),t=e.currentPage,n=e.reposCount,a=e.perPage,r=y().setCurrentPage,c=[];return function(e,t,n){if(t>10)if(n>5)for(var a=n-4;a<=n+5&&(e.push(a),a!==t);a++);else for(var r=1;r<=10&&(e.push(r),r!==t);r++);else for(var c=1;c<=t;c++)e.push(c)}(c,Math.ceil(n/a),t),Object(x.jsx)("nav",{className:"pagination",role:"navigation","aria-label":"pagination",children:Object(x.jsx)("ul",{className:"pagination-list",children:c.map((function(e){return Object(x.jsx)("li",{className:"pagination-list__item",children:Object(x.jsx)("button",{type:"button",className:l()("pagination-link",{"is-current":e===t}),"aria-label":"Page 1","aria-current":"page",onClick:function(){r(e)},children:e})},e)}))})})},g=(n(33),n(34),n(35),function(){return Object(x.jsx)("div",{className:"Loader",children:Object(x.jsx)("div",{className:"Loader__content"})})}),P=function(){var e=b((function(e){return e.repos})),t=e.repos,n=e.loading,a=e.searchQuery,r=e.sortBy,s=e.currentPage,o=e.perPage,i=e.reposCount,u=e.favoritesIds,O=y(),d=O.fetchRepos,p=O.addToFavorites,j=O.removeFromFavorites;Object(c.useEffect)((function(){d(a,r,s,o)}),[a,r,s,o]);return n?Object(x.jsx)(g,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"box",children:"".concat(i||"No"," repositories were found")}),Object(x.jsx)("div",{className:"content__repos-list",children:t.map((function(e){return Object(x.jsx)("div",{className:"box repos-list__box",children:Object(x.jsxs)("article",{className:"media",children:[Object(x.jsx)("div",{className:"media-left",children:Object(x.jsx)("figure",{className:"image is-128x128",children:Object(x.jsx)("img",{src:e.owner.avatar_url,alt:e.name})})}),Object(x.jsx)("div",{className:"media-content",children:Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("p",{className:"content-item",children:Object(x.jsx)("strong",{children:e.name})}),Object(x.jsx)("p",{className:"content-item",children:Object(x.jsx)("small",{children:"rank: ".concat(e.stargazers_count)})})]})}),Object(x.jsx)("button",{type:"button",className:"button top-button is-primary is-info",children:"View more"}),Object(x.jsx)("button",{type:"button",className:l()("button",{"is-success":!u.includes(e.id)},{"is-danger":u.includes(e.id)}),onClick:function(){var t;t=e.id,u.includes(t)?j(t):p(t)},children:(t=e.id,u.includes(t)?"Remove from favorites":"Add to Favorites")})]})},e.id);var t}))})]})},N=n(6),A=n(17),F=function(){var e=y(),t=e.setSearchQuery,n=e.setSortParam,a=e.setCurrentPage,r=e.changeStateRepos,s=b((function(e){return e.repos})).repos,o=Object(c.useState)(""),i=Object(A.a)(o,2),u=i[0],l=i[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("form",{className:"search-form",onSubmit:function(e){!function(e){e.preventDefault(),a(1),t(u),l("")}(e)},children:[Object(x.jsx)("input",{className:"input",type:"text",placeholder:"Search...",value:u,onChange:function(e){l(e.target.value)},required:!0}),Object(x.jsx)("button",{type:"submit",className:"button is-warning",children:"Search"})]}),Object(x.jsxs)("div",{className:"search-bar__button-container",children:[Object(x.jsx)("button",{type:"button",className:"button search-bar__button",onClick:function(){n("updated")},children:"Sort by Update"}),Object(x.jsx)("button",{type:"button",className:"button search-bar__button",onClick:function(){n("stars")},children:"Sort by Rank"}),Object(x.jsx)("button",{type:"button",className:"button search-bar__button",onClick:function(){!function(){var e=Object(N.a)(s).sort((function(e,t){return e.name.localeCompare(t.name)}));r(e)}()},children:"Sort by Name"})]})]})},H=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("div",{className:"App__search-bar search-bar",children:Object(x.jsx)(F,{})}),Object(x.jsxs)("div",{className:"App_content",children:[Object(x.jsx)(P,{}),Object(x.jsx)("div",{className:"App_pages",children:Object(x.jsx)(C,{})})]})]})},U=n(15),I=n(16),k={repos:[],loading:!1,error:null,searchQuery:"%3E1",sortBy:"stars",favoritesIds:[],currentPage:1,perPage:40,reposCount:0},G=Object(O.combineReducers)({repos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.FETCH_REPOS:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case r.FETCH_REPOS_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{repos:Object(N.a)(t.payload.items),loading:!1});case r.FETCH_REPOS_ERROR:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload,loading:!1});case r.SET_SEARCH_QUERY:return Object(d.a)(Object(d.a)({},e),{},{searchQuery:t.payload});case r.SET_SORTBY:return Object(d.a)(Object(d.a)({},e),{},{sortBy:t.payload});case r.ADD_TO_FAVORITES:return Object(d.a)(Object(d.a)({},e),{},{favoritesIds:[].concat(Object(N.a)(e.favoritesIds),[t.payload])});case r.REMOVE_FROM_FAVORITES:return Object(d.a)(Object(d.a)({},e),{},{favoritesIds:e.favoritesIds.filter((function(e){return e!==t.payload}))});case r.SET_CURRENT_PAGE:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.payload});case r.SET_PER_PAGE:return Object(d.a)(Object(d.a)({},e),{},{perPage:t.payload});case r.SET_PAGES_COUNT:return Object(d.a)(Object(d.a)({},e),{},{reposCount:t.payload.total_count});default:return e}}}),V=Object(O.createStore)(G,Object(U.composeWithDevTools)(Object(O.applyMiddleware)(I.a))),w=function(){return Object(x.jsx)(i.a,{store:V,children:Object(x.jsx)(H,{})})};o.a.render(Object(x.jsx)(w,{}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.952369e4.chunk.js.map